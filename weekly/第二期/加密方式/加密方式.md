# 加密方式

## HTTP 与 HTTPS

HTTP 传递的是明文信息

什么是明文信息？

明文是有意义的字符或比特集，或通过某种公开的编码标准就能获得的消息（抓包之后就可以）

HTTPS是怎么传递密文的？

我们先来介绍下加密类型中的**对称加密**与**非对称加密**

> 对称加密：对称加密：在加密和解密时使用的是同一个秘钥

对称加密的模式是：

1. 甲方选择某一种加密规则，对信息进行加密
2. 乙方使用同一种规则，对信息进行解密

> 非对称加密：需要两个密钥来进行加密和解密，这两个秘钥是公开密钥（public key，简称公钥）和私有密钥（private key，简称私钥）

非对称加密的模式则是：

1. 乙方生成两把密钥（公钥和私钥）。公钥是公开的，任何人都可以获得，私钥则是保密的
2. 甲方获取乙方的公钥，然后用它对信息加密
3. 乙方得到加密后的信息，用私钥解密。

### RSA 是怎么做到非对称加密的

RSA 算法的原理是利用两个互质关系的乘积足够大(1024+)，极难被因数分解。

（目前被破解的最长RSA密钥是768个二进制位，而正常使用的至少是1024位的密钥）

算法共需要 6 个数

* 两个互质的书 p、q
* N：N = p * q
* L：L 是 (p-1) 和 (q-1) 的最小公倍数
* E：使 E 与 L 互质, 且 1 < E < L
* D: 满足 (D*E) mod L = 1, 且 1 < D < L

公钥：(E, N)

私钥：(D, N)

𝑚 明文，𝑐 密文

加密过程：𝑐=𝑚𝑒%𝑁

解密过程：𝑚=𝑐𝑑%𝑁

参考：

* [RSA](https://www.shangyang.me/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/RSA/)
* [阮一峰RSA算法原理（一）](http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html)。
* [阮一峰RSA算法原理（二）](http://www.ruanyifeng.com/blog/2013/07/rsa_algorithm_part_two.html)
* [RSA 数学原理](https://juejin.im/post/5c03e4c1f265da615876e5a4)

HTTPS = HTTP + SSL

![链接](https://user-gold-cdn.xitu.io/2018/5/11/1634e5e73936060f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

## 复杂加密的案例

## 常见的加密过程

* 客户端加盐 md5

为什么现在网上有很多软件可以破解MD5，但MD5还是很流行？

算法的公开并不意味着不安全；RSA 的算法也是公开的，AES 也是公开的。现代密码学的安全性从不是靠算法的保密来保证的。

2、目前没有软件能有效地破解 MD5。大多数时候只是把常见字符串的 MD5 存了起来为彩虹表，然后直接反查。

3、再次强调 MD5 只是哈希，而不是加密。MD5 是没有可能解密的，因为一个 MD5 可能对应无数种可能的明文。

CMD5 网站

md5、sha1等全球通用公开的加密算法进行反向查询，通过穷举字符组合的方式，创建了明文密文对应查询数据库，创建的记录约90万亿条，占用硬盘超过500TB，查询成功率95%以上，很多复杂密文只有本站才可查询。已稳定运行十余年，国内外享有盛誉。

[CMD5](https://www.cmd5.com/)

[CMD5规则](https://www.cmd5.com/password.aspx#type)

* 服务器加盐（HMAC）
* 设备锁
* HMAC + 时间戳

## 参考链接

* [HTTPS加密原理](https://juejin.im/entry/5a9ac15bf265da239e4d8831)
